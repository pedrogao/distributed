# 主从复制

> 主节点与从节点之间的复制与拷贝

主从复制主要为了解决`单点问题`，主节点挂掉了，从节点可以立马顶上，不让服务间断。

[pbservice](../pbservice)是一个非常简单的主从复制实现，也非常容易学习和理解。

这里有一个很重要的点：主节点如何知道从节点信息？

因此还需要一个视图服务来支撑，实时提供集群视图信息，即主、从、其它节点的地址等元数据。

## 客户端

对于客户端：

```go
type Clerk struct {
	vs *viewservice.Clerk
}
```

- vs：视图服务客户端，用于实时获取视图信息

